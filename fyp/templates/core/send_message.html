{% extends 'core/base.html' %}

{% block title_block %}
    Send Message
{% endblock %}


{% block send_message_tag %}
    active
{% endblock %}

{% block body_block %}
    <h1>Compose Message</h1>
    <form action="" method="post">
        {% csrf_token %}
        <table>
        {{ form_message.as_table }}
        </table>
        <!-- Button trigger modal
             The send button should redirect to the send message form, with all the
             data preserved.
             should use the get Method.
             Does this also included the other data input?-->
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addGroupUsers">
          Send to group
        </button>
        <br>
        <input type="submit" value="send"/>
    </form>
    <!-Maybe a new modal should be added.-->
        <!-- Modal -->
    <div class="modal fade" id="addGroupUsers" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalCenterTitle">Add groups</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form action="{% url 'core:send_message' %}" method="get">
              <div class="modal-body">
                  {{ form_group.as_p }}
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary">Add</button>
              </div>
          </form>
        </div>
      </div>
    </div>
    <!-- Button trigger modal -->

{% endblock %}